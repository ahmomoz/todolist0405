import{f as c,g as D,h as w,c as v,e,i as p,v as m,j as k,k as i,n as f,F as V,l as $,t as x,o as r,m as S}from"./index-xr4q4I8L.js";const B={id:"todoListPage",class:"bg-half"},I={class:"container todoListPage vhContainer"},K={class:"todoList_Content"},U={class:"inputBox"},E=e("i",{class:"fa fa-plus"},null,-1),M=[E],N={class:"todoList_list"},F={class:"todoList_tab"},J={class:"todoList_items"},O={class:"todoList_item"},P={key:0},j=["onKeyup"],z={key:1,class:"todoList_label"},A=["onUpdate:modelValue"],q=["onDblclick"],G=["onClick"],H=e("i",{class:"fa fa-times"},null,-1),Q=[H],R={class:"todoList_statistics"},Y={__name:"ToDoListView",setup(W){const y=localStorage.getItem("todo-data")||"[]",d=c(null),s=c(JSON.parse(y)),h=()=>{d.value&&s.value.push({id:Date.now(),text:d.value,done:!1}),d.value=""},_=c(null),u=c(null),L=o=>{_.value=o.id,u.value=o.text},g=o=>{const l=s.value.findIndex(t=>t.id===o.id);s.value[l].text=u.value,_.value="",u.value=""},C=o=>{s.value=s.value.filter(l=>l.id!==o)},b=()=>{s.value=s.value.filter(o=>!o.done)};D(()=>{localStorage.setItem("todo-data",JSON.stringify(s.value))});const a=c(null),T=w(()=>a.value==="active"?s.value.filter(o=>!o.done):a.value==="complete"?s.value.filter(o=>o.done):s.value);return(o,l)=>(r(),v("div",B,[e("div",I,[e("div",K,[e("div",U,[p(e("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),onKeyup:k(h,["enter"])},null,544),[[m,d.value]]),e("a",{href:"#",onClick:i(h,["prevent"])},M)]),e("div",N,[e("ul",F,[e("li",null,[e("a",{href:"#",class:f({active:a.value===""}),onClick:l[1]||(l[1]=i(t=>a.value="",["prevent"]))}," 全部",2)]),e("li",null,[e("a",{href:"#",class:f({active:a.value==="active"}),onClick:l[2]||(l[2]=i(t=>a.value="active",["prevent"]))}," 待完成",2)]),e("li",null,[e("a",{href:"#",class:f({active:a.value==="complete"}),onClick:l[3]||(l[3]=i(t=>a.value="complete",["prevent"]))}," 已完成",2)])]),e("div",J,[e("ul",O,[(r(!0),v(V,null,$(T.value,t=>(r(),v("li",{key:t.id},[_.value===t.id?(r(),v("label",P,[p(e("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":l[4]||(l[4]=n=>u.value=n),onKeyup:k(n=>g(t),["enter"])},null,40,j),[[m,u.value]])])):(r(),v("label",z,[p(e("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":n=>t.done=n,value:"true"},null,8,A),[[S,t.done]]),e("span",{onDblclick:n=>L(t)},x(t.text),41,q)])),e("a",{href:"#",onClick:i(n=>C(t.id),["prevent"])},Q,8,G)]))),128))]),e("div",R,[e("p",null,x(s.value.filter(t=>t.done).length)+" 個已完成項目",1),e("a",{href:"#",onClick:i(b,["prevent"])},"清除已完成項目")])])])])])]))}};export{Y as default};
